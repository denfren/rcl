// This should become one line because there are no comments.
let c1 =
  if true
  then 1
  else
  0;

// A comment can also precede the then and else, and those force multiline mode
// but in addition get moved into the body, where they belong.
let c2 = if widget.enabled
  then
  // Frobnication is only effective on enabled widgets.
  widget.frobnicated()
  else
  // Disabled widgets we return as-is.
  widget;

// Finally, a comment can be inside one of the bodies, which forces multiline
// mode.
let c3 = if
  // Check for enablement.
  widget.enabled then
  // Frobnication is only effective on enabled widgets.
  widget.frobnicated() else
  // Disabled widgets we return as-is.
  widget;

[c1, c2, c3, c4]

# output:
// This should become one line because there are no comments.
let c1 = if true then 1 else 0;

// A comment can also precede the then and else, and those force multiline mode
// but in addition get moved into the body, where they belong.
let c2 = if
  widget.enabled
then
  // Frobnication is only effective on enabled widgets.
  widget.frobnicated()
else
  // Disabled widgets we return as-is.
  widget;

// Finally, a comment can be inside one of the bodies, which forces multiline
// mode.
let c3 = if
  // Check for enablement.
  widget.enabled
then
  // Frobnication is only effective on enabled widgets.
  widget.frobnicated()
else
  // Disabled widgets we return as-is.
  widget;

[c1, c2, c3, c4]
